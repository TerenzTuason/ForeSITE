<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin & Faculty Registration - ForeSITE</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root {
            --maroon: #800000;
            --gold: #FFB81C;
        }
        body {
            background-color: #f5f5f5;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            font-family: 'Poppins', sans-serif;
        }
        .register-card {
            background: white;
            border-radius: 8px;
            padding: 2rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 500px;
        }
        .register-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        .register-header h2 {
            color: var(--maroon);
            font-weight: 600;
            font-size: 1.75rem;
            margin-bottom: 0.5rem;
        }
        .register-header p {
            color: #666;
            font-size: 0.95rem;
        }
        .form-label {
            color: #333;
            font-weight: 500;
            font-size: 0.9rem;
        }
        .form-control, .form-select {
            padding: 0.75rem;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            background-color: #f8f9fa;
            font-size: 0.9rem;
        }
        .form-control:focus, .form-select:focus {
            border-color: var(--maroon);
            box-shadow: 0 0 0 0.2rem rgba(128, 0, 0, 0.1);
        }
        .required {
            color: var(--maroon);
        }
        .btn-register {
            background-color: var(--maroon);
            border: none;
            padding: 0.75rem;
            font-weight: 500;
            width: 100%;
            margin-top: 1rem;
            font-size: 1rem;
            color: white;
        }
        .btn-register:hover {
            background-color: #600000;
        }
        .login-link {
            text-align: center;
            margin-top: 1.5rem;
            font-size: 0.9rem;
        }
        .login-link a {
            color: var(--maroon);
            text-decoration: none;
            font-weight: 500;
        }
        .login-link a:hover {
            text-decoration: underline;
        }
        .security-notice {
            background-color: #fff3cd;
            border: 1px solid #ffeeba;
            border-radius: 4px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
            color: #856404;
        }
        .form-check-input:checked {
            background-color: var(--maroon);
            border-color: var(--maroon);
        }
        .form-check-input:focus {
            border-color: var(--maroon);
            box-shadow: 0 0 0 0.2rem rgba(128, 0, 0, 0.1);
        }
        .text-maroon {
            color: var(--maroon);
            text-decoration: none;
        }
        .text-maroon:hover {
            color: #600000;
            text-decoration: underline;
        }
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1050;
        }
        .toast {
            background: white;
            border: none;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            margin-bottom: 10px;
            min-width: 250px;
        }
        .toast-success {
            border-left: 4px solid #198754;
        }
        .toast-error {
            border-left: 4px solid var(--maroon);
        }
        .toast-body {
            font-size: 0.9rem;
            padding: 12px 15px;
        }
        @media (max-width: 576px) {
            .register-card {
                margin: 0;
                border-radius: 0;
                min-height: 100vh;
            }
            body {
                padding: 0;
            }
            .toast-container {
                width: 100%;
                top: 0;
                right: 0;
                padding: 1rem;
            }
            .toast {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="toast-container"></div>
    
    <!-- Terms and Conditions Modal -->
    <div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="termsModalLabel">Terms and Conditions</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>These Terms and Conditions ("Agreement" or "Terms") govern your access to and use of the ForeSITE 
                    Adaptive Collaborative Learning System ("System" or "Platform"), provided by the researchers. By 
                    accessing and/or registering for the System, you acknowledge and agree to comply with these Terms. 
                    If you do not agree with these Terms, please immediately cease using the System.</p>
                    
                    <h6>1. Acceptance of Terms</h6>
                    <p>1.1 Agreement to Terms: By using the System, you agree to be legally bound by these Terms. If you 
                    do not accept these Terms, you must refrain from accessing or using the System.</p>
                    <p>1.2 Amendments: The researchers reserve the right to modify, revise, or update these Terms at any 
                    time. Changes will be posted on this page, and they will become effective immediately upon posting. 
                    It is your responsibility to periodically review these Terms. Continued use of the System after changes 
                    are posted constitutes your acceptance of the updated Terms.</p>
                    
                    <h6>2. System Overview</h6>
                    <p>2.1 Description: The System, ForeSITE, is an adaptive learning platform designed to enhance 
                    Futures Thinking through personalized educational content. The System incorporates machine 
                    learning algorithms, such as Honey and Mumford Learning Styles, K-Means Clustering, and 
                    Voting Classifiers, to provide a customized learning experience.</p>
                    
                    <h6>3. User Responsibilities</h6>
                    <p>3.1 Registration: To use the System, you must create an account. During registration, you agree to 
                    provide accurate, current, and complete information.</p>
                    <p>3.2 Access: You are responsible for maintaining the confidentiality of your login credentials. Do not 
                    share your account credentials with others.</p>
                    <p>3.3 Use of System: You agree to use the System solely for educational purposes in accordance with 
                    the guidelines and regulations set by the researchers.</p>
                    <p>3.4 Conduct: You shall not engage in any unlawful, harmful, or disruptive behavior while using the 
                    System. This includes, but is not limited to, harassment, data manipulation, or any action that could 
                    impair the integrity or functionality of the System.</p>
                    
                    <h6>4. Privacy and Data Collection</h6>
                    <p>4.1 Data Collection: The System collects personal data, including but not limited to:
                    <ul>
                        <li>Learning preferences (via the Honey and Mumford Learning Styles assessment),</li>
                        <li>Performance data (test scores, course progress),</li>
                        <li>Participation data (engagement with tasks, interaction with collaborative groups).</li>
                    </ul>
                    </p>
                    <p>4.2 Data Use: The collected data will be used solely for educational purposes, including but not 
                    limited to, personalizing your learning experience and improving the System's functionality.</p>
                    <p>4.3 Consent: By using the System, you consent to the collection and processing of your data in 
                    accordance with applicable laws, including privacy laws. Please refer to our Privacy Policy for 
                    further details.</p>
                    
                    <h6>5. Intellectual Property</h6>
                    <p>5.1 Ownership: The content and materials on the System, including educational materials, 
                    algorithms, software, and design elements, are the intellectual property of the researchers or their 
                    affiliates.</p>
                    <p>5.2 License: You are granted a limited, non-transferable, non-exclusive license to access and use 
                    the System for educational purposes. You may not copy, distribute, modify, or create derivative works 
                    based on the content or materials within the System without prior written consent from the 
                    researchers.</p>
                    
                    <h6>6. Modifications to the System</h6>
                    <p>6.1 Right to Modify: The researchers reserve the right to modify, update, or discontinue any part of 
                    the System, including but not limited to content, features, and functionality, at any time without prior 
                    notice.</p>
                    <p>6.2 User Notification: Any significant changes to the Terms or the functionality of the System will be 
                    communicated via notifications within the System.</p>
                    
                    <h6>7. Limitation of Liability</h6>
                    <p>7.1 No Guarantee: The System is provided "as is," and the researchers do not guarantee 
                    uninterrupted access or error-free performance.</p>
                    <p>7.2 Limitation of Liability: To the fullest extent permitted by applicable law, the researchers shall 
                    not be liable for any direct, indirect, incidental, consequential, special, or punitive damages arising 
                    from your use of or inability to use the System.</p>
                    
                    <h6>8. Termination of Access</h6>
                    <p>8.1 Suspension and Termination: The researchers may suspend or terminate your access to the 
                    System at their sole discretion, including but not limited to cases of non-compliance with these 
                    Terms.</p>
                    <p>8.2 Effect of Termination: Upon termination, you will no longer have access to the System, and any 
                    content or data associated with your account may be deleted or become inaccessible.</p>
                    
                    <h6>9. Governing Law and Dispute Resolution</h6>
                    <p>9.1 Governing Law: This Agreement shall be governed by and construed in accordance with the laws 
                    of the Philippines.</p>
                    <p>9.2 Dispute Resolution: Any disputes arising from or related to this Agreement shall be resolved 
                    through informal negotiations. If such negotiations fail, the dispute shall be resolved by binding 
                    arbitration in accordance with the laws of the Philippines.</p>
                    
                    <h6>10. Miscellaneous</h6>
                    <p>10.1 Entire Agreement: These Terms, along with any other legal notices or agreements published by 
                    the researchers on the System, constitute the entire agreement between you and the researchers
                    regarding your use of the System.</p>
                    <p>10.2 Severability: If any provision of these Terms is deemed invalid, illegal, or unenforceable, the 
                    remaining provisions shall remain in full force and effect.</p>
                    <p>10.3 Waiver: Failure by the researchers to enforce any provision of these Terms shall not be deemed 
                    a waiver of future enforcement of that or any other provision.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Privacy Policy Modal -->
    <div class="modal fade" id="privacyModal" tabindex="-1" aria-labelledby="privacyModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="privacyModalLabel">Privacy Policy</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>This Privacy Policy ("Policy") describes how the researchers ("we", "our", or "us") collect, use, store, 
                    and protect your personal and educational data when you access and use the ForeSITE Adaptive 
                    Collaborative Learning System ("System" or "Platform"). By using the System, you agree to the 
                    collection, use, and disclosure of your data as described in this Policy.</p>
                    
                    <p>We respect and value your rights as a data subject under the Data Privacy Act (DPA). The 
                    researchers are committed to protecting the personal data you provide in accordance with the 
                    requirements under the DPA and its Implementing Rules and Regulations (IRR). In this regard, we 
                    implement reasonable and appropriate security measures to maintain the confidentiality, integrity, 
                    and availability of your personal data.</p>
                    
                    <h6>1. Information We Collect</h6>
                    <p>1.1 Personal Information: When you register for the System, we may collect the following personal 
                    information:
                    <ul>
                        <li>Full name</li>
                        <li>Email address</li>
                        <li>Username and password</li>
                    </ul>
                    </p>
                    <p>1.2 Learning-Related Information: To personalize your learning experience, we collect and process 
                    the following educational data:
                    <ul>
                        <li>Learning preferences: Information gathered through the Honey and Mumford Learning 
                        Styles questionnaire (e.g., whether you are an Activist, Reflector, Theorist, or Pragmatist).</li>
                        <li>Performance data: Your progress, test scores, activity completion, and course performance.</li>
                        <li>Participation data: Engagement with collaborative tasks, forums, or other interactive 
                        features within the System.</li>
                    </ul>
                    </p>
                    <p>1.3 Usage Data: We automatically collect certain data when you use the System, such as:
                    <ul>
                        <li>Log data (e.g., IP address, browser type, operating system, and device information)</li>
                        <li>Interaction data (e.g., pages visited, time spent, clicks, and other usage metrics)</li>
                    </ul>
                    </p>
                    
                    <h6>2. How We Use Your Information</h6>
                    <p>2.1 To Provide and Improve the System: We use your data to deliver personalized educational 
                    content and experiences within the System, tailored to your learning preferences and progress.</p>
                    <p>2.2 For User Support: Your data helps us respond to your inquiries and provide customer support 
                    regarding your use of the System.</p>
                    <p>2.3 For System Analytics: We use aggregated data to monitor and analyze trends, usage patterns, 
                    and user engagement to improve the functionality and performance of the System.</p>
                    <p>2.4 To Communicate with You: We may use your email address to send you important updates 
                    related to your account, such as new course modules, notifications, and any changes to the Terms 
                    and Conditions or Privacy Policy.</p>
                    <p>2.5 For Research and Development: We may analyze anonymized data to further enhance the 
                    educational system and tools provided, in alignment with the goals of the researchers.</p>
                    
                    <h6>3. How We Protect Your Information</h6>
                    <p>3.1 Data Security: We implement technical, administrative, and physical security measures to 
                    protect your personal and learning-related information from unauthorized access, disclosure, 
                    alteration, or destruction. These measures include encryption, secure data storage, and regular 
                    security audits.</p>
                    <p>3.2 Access Control: Access to personal data is restricted to authorized personnel who need the 
                    information to perform their job duties. We ensure that user information is handled with care and in 
                    compliance with applicable laws.</p>
                    <p>3.3 Data Retention: We retain your personal data and learning-related information for as long as 
                    necessary to provide the System and fulfill the purposes described in this Policy. Once this period 
                    expires, we will securely delete or anonymize your data.</p>
                    
                    <h6>4. Sharing Your Information</h6>
                    <p>4.1 Service Providers: We may share your personal information with trusted third-party service 
                    providers who assist us in operating the System or providing educational content. These providers 
                    are obligated to keep your information confidential and use it only for the purpose of providing 
                    services on our behalf.</p>
                    <p>4.2 Legal Requirements: We may disclose your information if required to do so by law, court order, 
                    or government regulation, or if we believe such disclosure is necessary to protect our rights, the rights 
                    of others, or to comply with legal processes.</p>
                    <p>4.3 Business Transfers: In the event that the researchers are involved in a merger, acquisition, or 
                    sale of assets, your personal information may be transferred to the acquiring party. We will notify you 
                    of any change in ownership or control of your personal data.</p>
                    
                    <h6>5. Your Data Protection Rights</h6>
                    <p>5.1 Access and Correction: You have the right to request access to the personal data we hold about 
                    you and to correct any inaccuracies. You may also request that we update or delete your personal 
                    information.</p>
                    <p>5.2 Withdrawal of Consent: You have the right to withdraw your consent to the processing of your 
                    personal information at any time. However, this may affect your ability to use certain features of the 
                    System.</p>
                    <p>5.3 Data Portability: You may request a copy of your personal data in a structured, commonly used, 
                    and machine-readable format.</p>
                    <p>5.4 Right to Erasure: You may request that we erase your personal information, subject to certain 
                    exceptions (e.g., if the information is necessary for compliance with legal obligations).</p>
                    <p>5.5 Right to Object: You have the right to object to the processing of your personal information for 
                    certain purposes, such as direct marketing or profiling.</p>
                    
                    <h6>6. Third-Party Websites</h6>
                    <p>The System may contain links to external websites or services not operated by the researchers. We 
                    are not responsible for the privacy practices or content of these third-party sites. We encourage you 
                    to review their privacy policies before providing any personal information.</p>
                    
                    <h6>7. Children's Privacy</h6>
                    <p>The System is not intended for children under the age of 13, and we do not knowingly collect personal 
                    data from children. If we learn that we have inadvertently collected information from a child under 
                    13, we will take steps to delete the data as soon as possible.</p>
                    
                    <h6>8. Changes to This Privacy Policy</h6>
                    <p>8.1 Updates: We may update this Privacy Policy from time to time to reflect changes in our practices 
                    or legal requirements. We will notify you of any significant changes through the System or by email.</p>
                    <p>8.2 Effective Date: The most recent version of this Policy will be posted here, and it will become 
                    effective as soon as it is made available. Please check this page periodically to stay informed about 
                    how we are protecting your information.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="register-card">
        <div class="register-header">
            <h2>Faculty Access Request</h2>
            <p>Register for faculty access to ForeSITE</p>
        </div>
        <div class="security-notice">
            <strong>Note:</strong> This registration creates a faculty account for immediate access to the system.
        </div>
        <form id="registerForm" novalidate>
            <div class="mb-3">
                <label for="email" class="form-label">Institutional Email <span class="required">*</span></label>
                <input type="email" class="form-control" id="email" name="email" placeholder="Enter your institutional email" required>
                <div class="invalid-feedback">Please enter a valid institutional email address.</div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="firstName" class="form-label">First Name <span class="required">*</span></label>
                        <input type="text" class="form-control" id="firstName" name="firstName" required>
                        <div class="invalid-feedback">Please enter your first name.</div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="lastName" class="form-label">Last Name <span class="required">*</span></label>
                        <input type="text" class="form-control" id="lastName" name="lastName" required>
                        <div class="invalid-feedback">Please enter your last name.</div>
                    </div>
                </div>
            </div>
            <div class="mb-3">
                <label for="password" class="form-label">Password <span class="required">*</span></label>
                <input type="password" class="form-control" id="password" name="password" required minlength="8">
                <div class="invalid-feedback">Password must be at least 8 characters long.</div>
            </div>
            <div class="mb-3">
                <label for="confirmPassword" class="form-label">Confirm Password <span class="required">*</span></label>
                <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" required>
                <div class="invalid-feedback">Passwords do not match.</div>
            </div>
            <div class="mb-3">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="agreeTerms" name="agreeTerms" required>
                    <label class="form-check-label" for="agreeTerms">
                        I agree to ForeSITE's <a href="#" class="text-maroon" data-bs-toggle="modal" data-bs-target="#privacyModal">Privacy Policy</a> and <a href="#" class="text-maroon" data-bs-toggle="modal" data-bs-target="#termsModal">Terms of Service</a> <span class="required">*</span>
                    </label>
                    <div class="invalid-feedback">
                        You must agree to the Privacy Policy and Terms of Service to continue.
                    </div>
                </div>
            </div>
            <button type="submit" class="btn btn-register" id="registerBtn">Create Faculty Account</button>
            <div class="login-link">
                Already have an account? <a href="login.html">Sign in</a>
            </div>
        </form>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('registerForm');
            const password = document.getElementById('password');
            const confirmPassword = document.getElementById('confirmPassword');
            const registerBtn = document.getElementById('registerBtn');
            const apiBaseUrl = 'http://127.0.0.1:8000/api/v1';
            const toastContainer = document.querySelector('.toast-container');
            
            // Initialize Bootstrap modals
            const termsModal = new bootstrap.Modal(document.getElementById('termsModal'));
            const privacyModal = new bootstrap.Modal(document.getElementById('privacyModal'));
            
            // Prevent form submission when clicking modal links
            document.querySelectorAll('[data-bs-toggle="modal"]').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                });
            });

            function showToast(message, type) {
                const toast = document.createElement('div');
                toast.className = `toast toast-${type} show`;
                toast.setAttribute('role', 'alert');
                toast.setAttribute('aria-live', 'assertive');
                toast.setAttribute('aria-atomic', 'true');
                
                toast.innerHTML = `
                    <div class="toast-header">
                        <strong class="me-auto">${type === 'success' ? 'Success' : 'Error'}</strong>
                        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                    <div class="toast-body">
                        ${message}
                    </div>
                `;

                toastContainer.appendChild(toast);
                
                // Set up close button functionality
                const closeBtn = toast.querySelector('.btn-close');
                closeBtn.addEventListener('click', function() {
                    toast.remove();
                });

                // Auto remove toast after 5 seconds
                setTimeout(() => {
                    toast.remove();
                }, 5000);
            }

            form.addEventListener('submit', function(event) {
                event.preventDefault();
                
                // Disable the button to prevent multiple submissions
                registerBtn.disabled = true;
                registerBtn.innerHTML = 'Creating Account...';
                
                // Basic validation
                let isValid = true;
                const email = document.getElementById('email').value.trim();
                const firstName = document.getElementById('firstName').value.trim();
                const lastName = document.getElementById('lastName').value.trim();
                const passwordValue = password.value;
                const confirmPasswordValue = confirmPassword.value;
                const agreeTerms = document.getElementById('agreeTerms').checked;
                
                // Validate email
                if (!email || !email.includes('@')) {
                    document.getElementById('email').classList.add('is-invalid');
                    isValid = false;
                } else {
                    document.getElementById('email').classList.remove('is-invalid');
                }
                
                // Validate first name
                if (!firstName) {
                    document.getElementById('firstName').classList.add('is-invalid');
                    isValid = false;
                } else {
                    document.getElementById('firstName').classList.remove('is-invalid');
                }
                
                // Validate last name
                if (!lastName) {
                    document.getElementById('lastName').classList.add('is-invalid');
                    isValid = false;
                } else {
                    document.getElementById('lastName').classList.remove('is-invalid');
                }
                
                // Validate password
                if (!passwordValue || passwordValue.length < 8) {
                    password.classList.add('is-invalid');
                    isValid = false;
                } else {
                    password.classList.remove('is-invalid');
                }
                
                // Validate confirm password
                if (passwordValue !== confirmPasswordValue) {
                    confirmPassword.classList.add('is-invalid');
                    isValid = false;
                } else {
                    confirmPassword.classList.remove('is-invalid');
                }
                
                // Validate terms agreement
                if (!agreeTerms) {
                    document.getElementById('agreeTerms').classList.add('is-invalid');
                    isValid = false;
                } else {
                    document.getElementById('agreeTerms').classList.remove('is-invalid');
                }
                
                if (!isValid) {
                    registerBtn.disabled = false;
                    registerBtn.innerHTML = 'Create Faculty Account';
                    return;
                }
                
                // Create faculty user (role_id = 2 for faculty)
                const registrationData = {
                    email: email,
                    first_name: firstName,
                    last_name: lastName,
                    password: passwordValue,
                    role_id: 2  // Faculty role
                };
                
                console.log('Sending registration data:', registrationData);
                
                // Send registration request to API
                fetch(`${apiBaseUrl}/users`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify(registrationData)
                })
                .then(response => {
                    console.log('Response status:', response.status);
                    return response.json();
                })
                .then(data => {
                    // Re-enable the button
                    registerBtn.disabled = false;
                    registerBtn.innerHTML = 'Create Faculty Account';
                    
                    console.log('API response:', data);
                    
                    if (data.error) {
                        // Show error toast
                        const errorMsg = typeof data.error === 'object' 
                            ? Object.values(data.error).flat().join(', ') 
                            : data.error;
                        showToast(errorMsg, 'error');
                    } else {
                        // Show success toast
                        showToast('Faculty account created successfully!', 'success');
                        
                        // Reset form
                        form.reset();
                        
                        // Redirect to login page immediately
                        window.location.href = 'login.html';
                    }
                })
                .catch(error => {
                    // Re-enable the button
                    registerBtn.disabled = false;
                    registerBtn.innerHTML = 'Create Faculty Account';
                    
                    console.error('Registration error:', error);
                    showToast('An error occurred. Please try again.', 'error');
                });
            });

            // Real-time password match validation
            confirmPassword.addEventListener('input', function() {
                if (password.value !== confirmPassword.value) {
                    confirmPassword.setCustomValidity('Passwords do not match');
                } else {
                    confirmPassword.setCustomValidity('');
                }
            });
        });
    </script>
</body>
</html> 